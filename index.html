<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="./master.css">
</head>
<body>
    <div class="bar" id="nav">
        
    </div>
    <div class="bar1">

    </div>
    <div class="notice">

    </div>
    <div class="banner">
        <div class="slide" id="b1" >

        </div>
        <div class="slide" id="b2" >

        </div>
        <div class="slide" id="b3" >

        </div>
        <div class="slide" id="b4">

        </div>
        <div class="border">
            <div class="ball" id="ball1" onclick="changeBanner(1)">

            </div>
            <div class="ball" id="ball2" onclick="changeBanner(2)">
                    
            </div>
            <div class="ball" id="ball3" onclick="changeBanner(3)">
                        
            </div>
            <div class="ball" id="ball4" onclick="changeBanner(4)">

            </div>
        </div>
    </div>
    <div class="box">
        <div class="news">
                
        </div>
        <div class="schedule">
                
        </div>
    </div>
    <div class="contest">

    </div>
    <div class="ipsi">

    </div>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
        var nav = document.getElementById('nav')
        var state = 'hide'
        window.addEventListener('scroll', function(e) {     
              if(58 < window.scrollY){
                nav.className = "bar nav-show"
                state = 'show'
              }else{
                if(state == 'show')
                    nav.className = "bar nav-hide"
                state = 'hide'
              }
        });
        function initSlide() {
            var sliders = $('.banner .slide')
            for(var i=0;i<$('.banner .slide').length;i++){
                var currSlider = $(sliders[i]);
                currSlider.attr('data', i+1);
                if(i>2) currSlider.attr('active', 'false');
            }
        }
        function nextSlide() {
            var sliders = $('.banner .slide')
            for(var i=0;i<$('.banner .slide').length;i++){
                var currSlider = $(sliders[i]);
                if(currSlider.attr('data') == '0') currSlider.attr('data', sliders.length -1);
                else currSlider.attr('data', currSlider.attr('data') -1);
                if(currSlider.attr('data') == '1') {
                    $('.ball').css('width','7px').css('height','7px')
                    $(`#ball${i+1}`).css('width','10px').css('height','10px')
                }
                if(currSlider.attr('data')<=2) currSlider.attr('active', 'true');
                else currSlider.attr('active', 'false');
            }
        }

        function changeBanner(id){
            clearInterval(interval)
            while($(`#b${id}`).attr('data') !== '1') nextSlide();
            startAutoSlide();
        }
        var intervalTime = 5000;
        initSlide();
        var interval;
        var startAutoSlide = function () {
            interval = setInterval(nextSlide, intervalTime);
        }
        startAutoSlide()
    </script>
</body>
</html>